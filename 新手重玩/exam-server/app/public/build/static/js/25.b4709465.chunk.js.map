{"version":3,"sources":["containers/main/exam/examList.jsx"],"names":["Option","AddUser","state","columns","title","dataIndex","key","render","text","record","href","exam_id","examType","course","examList","handleSubmit","e","preventDefault","props","form","validateFields","err","values","console","log","getSearchlist","then","res","setState","result","normFile","Array","isArray","fileList","nS","Date","parseInt","toLocaleString","replace","getExamType","msg","getCourse","getExamList","arr","map","item","start_exam","getLocalTime","end_exam","this","getFieldDecorator","className","style","background","padding","onSubmit","layout","Item","label","hasFeedback","rules","required","class","width","index","value","timeType","timeId","length","classType","wrapperCol","span","offset","type","htmlType","dataSource","size","rowKey","React","Component","AddUsers","create","name"],"mappings":"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","file":"static/js/25.b4709465.chunk.js","sourcesContent":["import React from 'react'\r\nimport { getExamType, getCourse, getExamList, getSearchlist } from \"@/api/index\"\r\nimport {\r\n\tForm,\r\n\tSelect,\r\n\tTable,\r\n\tButton,\r\n} from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nclass AddUser extends React.Component {\r\n\tstate = {\r\n\t\tcolumns: [\r\n\t\t\t{\r\n\t\t\t\ttitle: '试卷信息',\r\n\t\t\t\tdataIndex: 'exam_name',\r\n\t\t\t\tkey: 'exam_id',\r\n\t\t\t\t// render: text => <a>{text}</a>\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '创建人',\r\n\t\t\t\tdataIndex: 'username',\r\n\t\t\t\tkey: 'username'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '开始',\r\n\t\t\t\tkey: 'start_exam',\r\n\t\t\t\tdataIndex: 'start_exam'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '结束',\r\n\t\t\t\tkey: 'end_exam',\r\n\t\t\t\tdataIndex: 'end_exam'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '操作',\r\n\t\t\t\tkey: '',\r\n\t\t\t\tdataIndex: 'exam_id',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<a href={`/#/main/exam/examDetail/${record.exam_id}`}>详情</a>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t],\r\n\t\texamType: [],\r\n\t\tcourse: [],\r\n\t\texamList: []\r\n\t};\r\n\tgetLocalTime(nS) {\r\n\t\treturn new Date(parseInt(nS)).toLocaleString().replace(/年|月/g, \"-\").replace(/日/g, \" \");\r\n\t}\r\n\thandleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n\t\t\t\tconsole.log('Received values of form: ', values);\r\n\t\t\t\tgetSearchlist(values).then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\texamList: res.result\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tnormFile = e => {\r\n\t\tif (Array.isArray(e)) {\r\n\t\t\treturn e;\r\n\t\t}\r\n\t\treturn e && e.fileList;\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tgetExamType().then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\texamType: res.msg\r\n\t\t\t})\r\n\t\t})\r\n\t\tgetCourse().then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcourse: res.msg\r\n\t\t\t})\r\n\t\t})\r\n\t\tgetExamList().then(res => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tconst arr = res.result\r\n\t\t\tthis.setState({\r\n\t\t\t\texamList: arr.map(item => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\tstart_exam: this.getLocalTime(item.start_exam),\r\n\t\t\t\t\t\tend_exam: this.getLocalTime(item.end_exam)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\trender() {\r\n\t\tconst { columns, examList } = this.state\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"top\" style={{ background: \"#fff\", padding: \"20px\" }}>\r\n\t\t\t\t\t<Form onSubmit={this.handleSubmit} layout=\"inline\">\r\n\t\t\t\t\t\t<Form.Item label=\"考试类型\" hasFeedback\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{getFieldDecorator('select', {\r\n\t\t\t\t\t\t\t\trules: [{ required: true }],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Select class=\"ant-select-selection--single\" style={{ width: 140 }}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.examType.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Option value={item.timeType} key={item.timeId}>{item.timeType}</Option>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Select>,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item label=\"课程\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('select-multiple', {\r\n\t\t\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t\t\t{ required: true, },\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Select class=\"ant-select-selection--single\" style={{ width: 130 }}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.course.length && this.state.course.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Option key={index}>{item.classType}</Option>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Select>,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 12, offset: 6 }}>\r\n\t\t\t\t\t\t\t<Button type='primary' htmlType='submit'>\r\n\t\t\t\t\t\t\t\t查询\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='bottom'\r\n\t\t\t\t\tstyle={{ background: '#fff', padding: '20px' }}>\r\n\t\t\t\t\t<Table columns={columns} dataSource={examList} size=\"middle\" rowKey={item => item.exam_id} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst AddUsers = Form.create({ name: 'validate_other' })(AddUser);\r\nexport default AddUsers;\r\n"],"sourceRoot":""}